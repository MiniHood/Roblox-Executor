using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace RobloxExecutorCSharp.Tools.APIs
{
    public class EasyExploitsAPI
    {
        private EasyExploits.Module exploits = new EasyExploits.Module();
        private Error error = new Error();
        private Vars vars = new Vars();

        private string GetFileContents()
        {
            string a = vars.SelFile;

            string lua = File.ReadAllText(a);

            return lua;
        }

        public void InjectAndExecute()
        {
            exploits.LaunchExploit();

            if(!exploits.isInjected())
            { error.ShowError(ErrorFlags.UnableToHookEasyExploit); return; }

            exploits.ExecuteScript(GetFileContents());
        }
    }
}
